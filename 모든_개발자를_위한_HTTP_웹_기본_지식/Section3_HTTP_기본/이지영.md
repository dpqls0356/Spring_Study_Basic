# HTTP κΈ°λ³Έ

## π λ¨λ“  κ²ƒμ΄ HTTP

- HTTP λ©”μ‹μ§€μ— λ¨λ“  λ°μ΄ν„°ν•νƒλ¥Ό λ‹¤ μ „μ†΅ν•¨
- HTML, TEXT, μ΄λ―Έμ§€, μμ„±, μμƒ, νμΌ, JSON, XML, (API) β€¦
- κ±°μ λ¨λ“  ν•νƒμ λ°μ΄ν„° μ „μ†΅ κ°€λ¥
- μ„λ²„κ°„ λ°μ΄ν„°λ¥Ό μ£Όκ³  λ°›μ„ λ•λ„ λ€λ¶€λ¶„ HTTP μ‚¬μ©
- μ§€κΈμ€ HTTP μ‹λ€λ‹¤!
- ν„μ¬ **HTTP/1.1** κ°€μ¥ λ§μ΄ μ‚¬μ©ν•κ³  μ°λ¦¬μ—κ² κ°€μ¥ μ¤‘μ”ν• λ²„μ „
    - 1997 β†’ 1999 β†’ 2014
    - μµμ‹ κ²ƒμ€ 1.1μ μ„±λ¥κ°μ„  λλ‚

### π κΈ°λ° ν”„λ΅ν† μ½

- TCP : HTTP/1.1, HTTP
- UDP : HTTP
- ν„μ¬ HTTP/1.1 μ£Όλ΅ μ‚¬μ©
    - HTTP/2, HTTP/3λ„ μ μ  μ¦κ°€ν•λ” μ¶”μ„Έ
- ν”„λ΅ν† μ½ h2 β†’ http/2, h3 β†’ http3

### π HTTP νΉμ§•

- ν΄λΌμ΄μ–ΈνΈ β€” μ„λ²„ κµ¬μ΅°
- λ¬΄μƒνƒ ν”„λ΅ν† μ½(μ¤ν…μ΄νΈλ¦¬μ¤), λΉ„μ—°κ²°μ„±
- HTTP λ©”μ‹μ§€λ¥Ό ν†µν•΄μ„ ν†µμ‹ 
- λ‹¨μ, ν™•μ¥κ°€λ¥

---

## π ν΄λΌμ΄μ–ΈνΈ μ„λ²„ κµ¬μ΅°

- μ”μ²­, μ‘λ‹µ κµ¬μ΅°
- ν΄λΌμ΄μ–ΈνΈλ” μ„λ²„μ— μ”μ²­μ„ λ³΄λ‚΄κ³ , μ‘λ‹µμ„ λ€κΈ°ν•¨
- μ„λ²„κ°€ μ”μ²­μ— λ€ν• κ²°κ³Όλ¥Ό λ§λ“¤μ–΄μ„ μ‘λ‹µν•¨
- μ—­ν• μ„ κµ¬λ¶„μ§€μ–΄μ„ ν΄λΌμ΄μ–ΈνΈμ™€ μ„λ²„κ°€ κ°μμ μ—­ν• μ—λ§ μ§‘μ¤‘ν•  μ μμ.

---

## π Stateful, Stateless

### π λ¬΄μƒνƒ ν”„λ΅ν† μ½ = μ¤ν…μ΄νΈλ¦¬μ¤(Stateless)

- μ„λ²„κ°€ ν΄λΌμ΄μ–ΈνΈμ μƒνƒλ¥Ό λ³΄μ΅΄ν•μ§€ μ•λ”κ²ƒ.
- μ¥μ 
    - μ„λ²„ ν™•μ¥μ„± λ†’μ
- λ‹¨μ 
    - ν΄λΌμ΄μ–ΈνΈκ°€ μ¶”κ°€ λ°μ΄ν„°λ¥Ό μ „μ†΅ν•΄μ•Όν•¨.

### π Stateful - μƒνƒμ μ§€

- μƒν™©1
    - κ³ κ°μ΄ λ…ΈνΈλ¶μ„ κµ¬λ§¤ν•λ ¤κ³ ν•¨.
    - μ μ›μ΄ 100λ§μ›μ΄λΌκ³  ν•κ³  2κ°λ¥Ό ν„κΈκ³Ό μ‹ μ©μΉ΄λ“μ¤‘ μ‹ μ©μΉ΄λ“λ¥Ό μ‚¬μ©ν•μ—¬ κ²°μ ν•λ ¤κ³  ν•¨.

- μƒν™©2 - μ μ›μ΄ μ¤‘κ°„μ— λ°”λ€λ©΄?
    - μƒν™©1μ μ μ›μ΄ λ°”μμΌμ΄ μμ–΄μ„ 2μ μ›μ΄ μ‘λ€ν•¨ κ·Έλ¦¬κ³  μ†λ‹μ΄ 2κ° κµ¬λ§¤ν•λ‹¤κ³  ν•¨
    - μ μ›2λ” λ¬΄μ—‡μ„ 2κ° κµ¬λ§¤ν•λ”μ§€ λ¨λ¦„

- μ •λ¦¬ β†’ μƒνƒμ μ§€λ¥Ό ν•λ‹¤λ©΄?
    - μ΄μ „μ μƒνƒλ¥Ό μ μ§€ν•λ”κ²ƒ.
    - μ¦‰, λ…ΈνΈλ¶, 2κ°, μ‹ μ©μΉ΄λ“μ μƒνƒλ¥Ό μ μ§€ν•λ”κ²ƒ.
        - μ¦‰, μ¤‘κ°„μ— λ‹¤λ¥Έ μ μ›μΌλ΅ λ°”λ€λ©΄ μ•λ¨,
            - λ°”λ€λ•λ” μƒνƒ μ •λ³΄λ¥Ό λ‹¤λ¥Έ μ μ›μ—κ² λ―Έλ¦¬ μ•λ ¤μ¤μ•Όν•¨.

### π Stateless - λ¬΄μƒνƒ

- μƒν™© 1
    - κ³ κ° : λ…ΈνΈλ¶ 2κ°λ¥Ό κµ¬λ§¤ν•κ² μµλ‹λ‹¤.
    - μ μ› : λ…ΈνΈλ¶ 2κ°λ” 200λ§μ› μ…λ‹λ‹¤. μ‹ μ©μΉ΄λ“, ν„κΈμ¤‘μ— μ–΄λ–¤ κ±Έλ΅ κµ¬λ§¤ ν•μ‹κ² μ–΄μ”?
    - κ³ κ°: λ…ΈνΈλ¶ 2κ°λ¥Ό μ‹ μ©μΉ΄λ“λ΅ κµ¬λ§¤ν•κ² μµλ‹λ‹¤
    - μ μ›: 200λ§μ› κ²°μ  μ™„λ£λμ—μµλ‹λ‹¤

- μƒν™© 2 - μ μ›μ΄ μ¤‘κ°„μ— λ°”λ€λ©΄?
    - ν•΄λ‹Ή κ³ κ°μ€ κ³„μ†ν•΄μ„ λ¨λ“  μƒνƒλ¥Ό λ§ν•΄μ¤μΌλ΅ μ‘λ€μ— λ¬Έμ κ°€ μ—†λ”κ²ƒ.

- μ •λ¦¬
    - μ¤‘κ°„μ— λ‹¤λ¥Έ μ μ›μΌλ΅ λ°”λ€μ–΄λ„ λ¨.
    - ν•„μ”ν• λ¨λ“ λ°μ΄ν„°λ¥Ό κ³„μ†ν•΄μ„ μ „λ¶€ λ„κ²¨μ£Όλ”κ²ƒ.
    - λ¬΄μƒνƒλ” μ‘λ‹µμ„λ²„λ¥Ό μ‰½κ² λ°”κΏ€ μ μμ β†’ λ¬΄ν•ν• μ„λ²„ μ¦μ„¤μ΄ κ°€λ¥ν•¨.

- μ‹¤λ¬΄ν•κ³„
    - λ¨λ“  κ²ƒμ„ λ¬΄μƒνƒλ΅ μ„¤κ³„ ν•  μ μλ” κ²½μ°λ„, μ—†λ” κ²½μ°λ„ μ΅΄μ¬ν•¨
    - λ¬΄μƒνƒ
        - ex) λ΅κ·ΈμΈ ν•„μ”μ—†λ” λ‹¨μ μ„λΉ„μ¤ μ†κ° ν™”λ©΄
    - μƒνƒ μ μ§€
        - ex) λ΅κ·ΈμΈ
    - λ΅κ·ΈμΈν• μ‚¬μ©μμ κ²½μ° λ΅κ·ΈμΈ μƒνƒλ¥Ό μ„λ²„μ— μ μ§€ν•΄μ•Όν•¨.
    - μΌλ°μ μΌλ΅ λΈλΌμ°μ € μΏ ν‚¤μ™€ μ„λ²„ μ„Έμ…λ“±μ„ μ‚¬μ©ν•΄μ„ μƒνƒλ¥Ό μ μ§€ν•¨.
    - μƒνƒ μ μ§€λ” μµμ†ν•λ§ μ‚¬μ©ν•΄μ•Όν•¨.
    - λ°μ΄ν„°λ¥Ό λ„λ¬΄ λ§μ΄ μ „μ†΅ν•΄μ•Όν•¨.
        - κ·Έλ ‡μ§€λ§ μµλ€ν• λ¬΄μƒνƒλ΅ μ„¤κ³„ν•κ³  μ–΄μ©”μ μ—†λ”κ²½μ°λ§ μ—°κ²°ν•λ”κ²ƒ.

---

## π λΉ„ μ—°κ²°μ„± (connectionless)

- TCP/IP μ—°κ²°μ„ μ μ§€ν•λ” λ¨λΈ
    - μ„λ²„λ” μ—°κ²°μ„ κ³„μ† μ μ§€ β†’ μ„λ²„μ μμ›μ΄ μ†λ¨λλ”κ²ƒ.
- TCP/IP μ—°κ²°μ„ μ μ§€ν•μ§€ μ•λ” λ¨λΈ
    - μ„λ²„λ” μ—°κ²°μ„ μ μ§€ ν•μ§€ μ•μΌλ―€λ΅ μµμ†ν•μ μμ›μ„ μ‚¬μ©ν•¨.
- HTTPλ” κΈ°λ³Έμ΄ μ—°κ²°μ„ μ μ§€ν•μ§€ μ•λ” λ¨λΈμ„
- μ΄λ‹¨μ„μ μ΄ν•μ λΉ λ¥Έ μ†λ„λ΅ μ‘λ‹µν•¨.
- 1μ‹κ°„λ™μ• μμ²λ…μ΄ μ„λΉ„μ¤λ¥Ό μ‚¬μ©ν•΄λ„ μ‹¤μ  μ„λ²„μ—μ„ λ™μ‹μ— μ²λ¦¬ν•λ” μ”μ²­μ€ μμ‹­κ° μ΄ν•λ΅ λ§¤μ° μ‘μ.
    - μ¦‰, κ³„μ† κ²€μƒ‰λ²„νΌμ„ λ„λ¥΄μ§€ μ•λ”κ²ƒμ΄λ‘ κ°™μ.
- μ„λ²„ μμ›μ„ λ§¤μ° ν¨μ¨μ μΌλ΅ μ‚¬μ©μ΄ κ°€λ¥

### π ν•κ³„μ™€ κ·Ήλ³µ

- TCP/IP μ—°κ²°μ„ μƒλ΅ λ§Ίμ–΄μ•Ό ν•¨. - 3way μ‹κ°„ μ¶”κ°€λ¨..
- μ›Ή λΈλΌμ°μ €λ΅ μ‚¬μ΄νΈ μ”μ²­μ‹ HTML λΏλ§μ•„λ‹λΌ Javascript, css, μ΄λ―Έμ§€ λ“± μλ§μ€ μμ›μ΄ ν•¨κ» λ‹¤μ΄λ΅λ“λ¨.
- HTTPλ” μ§€μ†μ—°κ²°(Persistent Connections)λ΅ λ¬Έμ λ¥Ό ν•΄κ²°ν•¨
- HTTP/2, HTTP/3μ—μ„λ” μ΄κ²ƒμ„ λ” λ§μ΄ μµμ ν™”ν•¨.

### π μ¤ν…μ΄μ¤λ¦¬μ¤λ¥Ό κΈ°μ–µν•μ‹­μ‘!

- μ„λ²„κ°λ°μλ“¤μ΄ μ–΄λ ¤μ›ν•λ” μ—…λ¬΄
    - μ¦‰, μ‹κ°„μ— λ”± λ§μ¶”μ–΄ λ°μƒν•λ” λ€μ©λ‰ νΈλν”½
        - μ„ μ°©μ μ΄λ²¤νΈ, λ…μ  KTX μμ•½, ν•™κ³Ό μμ—…λ“±λ΅
        - μ €λ… 6μ‹ μΉ°ν‚¨ ν• μΈ μ΄λ²¤νΈ β†’ μλ§λ… λ™μ‹ μ”μ²­

---

## π HTTP λ©”μ‹μ§€

- HTTP λ©”μ‹μ§€ κµ¬μ΅°
    
    ![Untitled](https://github.com/eejuuung/Spring_Study_Basic/assets/46306166/9457d5eb-ca85-435b-891c-c30a03da0403)

- HTTP μ”μ²­ λ©”μ‹μ§€
    
    ![Untitled 1](https://github.com/eejuuung/Spring_Study_Basic/assets/46306166/7b4d9903-6a14-4a5f-ba67-ab4aa2ef58cf)

- HTTP μ‘λ‹µ λ©”μ‹μ§€
    
    ![Untitled 2](https://github.com/eejuuung/Spring_Study_Basic/assets/46306166/a916a744-0626-49d8-967a-47382dc25bf7)


### π  μ‹μ‘ λΌμΈ - μ”μ²­λ©”μ‹μ§€

```java
start-line = request-line / status-line
->
request-line = method SP(κ³µλ°±) request-target SP HTTP-version CRLF(μ—”ν„°)
```

- μ”μ²­ λ©”μ‹μ§€ - HTTP λ©”μ„λ“
    
    ```java
    **GET** /search?q=hello&hl=ko HTTP/1.1
    Host: www.google.com
    ```
    
    - μΆ…λ¥: GET, POST, PUT, DELETEβ€¦
    - μ„λ²„κ°€ μν–‰ν•΄μ•Ό ν•  λ™μ‘ μ§€μ •
        - GET: λ¦¬μ†μ¤ μ΅°ν
        - POST: μ”μ²­ λ‚΄μ—­ μ²λ¦¬
- μ”μ²­ λ©”μ‹μ§€ - μ”μ²­ λ€μƒ
    
    ```java
    GET **/search?q=hello&hl=ko** HTTP/1.1
    Host: www.google.com
    ```
    
    - absolute-path[?query] (μ λ€κ²½λ΅[?μΏΌλ¦¬])
    - μ λ€κ²½λ΅= "/" λ΅ μ‹μ‘ν•λ” κ²½λ΅
- μ”μ²­ λ©”μ‹μ§€ - HTTP λ²„μ „
    
    ```java
    GET /search?q=hello&hl=ko **HTTP/1.1**
    Host: www.google.com
    ```
    
- μ‘λ‹µ λ©”μ‹μ§€
    
    ```java
    HTTP/1.1 200 OK 
    Content-Type: text/html;charset=UTF-8
    Content-Length: 3423
    <html>
     <body>...</body>
    </html>
    ```
    
    - HTTP λ²„μ „
    - HTTP μƒνƒ μ½”λ“: μ”μ²­ μ„±κ³µ, μ‹¤ν¨
        - 200: μ„±κ³µ
        - 400: ν΄λΌμ΄μ–ΈνΈ μ”μ²­ μ¤λ¥
        - 500: μ„λ²„ λ‚΄λ¶€ μ¤λ¥
    - μ΄μ  λ¬Έκµ¬

### π HTTP ν—¤λ”

- header-field = field-name ":" OWS field-value OWS (OWS : λ„μ–΄μ“°μ§€ ν—μ©)
- field-nameμ€ λ€μ†λ¬Έμ κµ¬λ¬Έ μ—†μ

![Untitled 3](https://github.com/eejuuung/Spring_Study_Basic/assets/46306166/69ceb70f-12ab-4190-8555-50e103600f24)

- μ©λ„
    - HTTP μ „μ†΅μ— ν•„μ”ν• λ¨λ“  λ¶€κ°€μ •λ³΄
    - λ©”μ‹μ§€ λ°”λ””μ λ‚΄μ©, λ©”μ‹μ§€ λ°”λ””μ ν¬κΈ°, μ••μ¶•, μΈμ¦, μ”μ²­ ν΄λΌμ΄μ–ΈνΈ μ •λ³΄ λ“±..
    - ν•„μ”μ‹ μ„μμ ν—¤λ” μ¶”κ°€ κ°€λ¥

### π HTTP λ©”μ‹μ§€ λ°”λ””

- μ‹¤μ  μ „μ†΅ν•  λ°μ΄ν„°
- byteλ΅ ν‘ν„ν•  μ μλ” λ¨λ“  λ°μ΄ν„° μ „μ†΅ κ°€λ¥.

### π HTTP

- λ‹¨μν•κ³  ν™•μ¥μ΄ κ°€λ¥ν• κΈ°μ !

---
