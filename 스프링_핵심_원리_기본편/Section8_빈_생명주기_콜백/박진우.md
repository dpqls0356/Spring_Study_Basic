# Section 8. 빈 생성주기 콜백

---

## [빈 생명주기 콜백 시작]

### “편리한 자동 기능을 기본으로 사용하자”

스프링은 `@Component`뿐만 아니라 `@Controller`, `@Service`, `@Repository`처럼 계층에 맞추어 일반적인 애플리케이션 로직을 자동으로 스캔할 수 있도록 지원한다.
또한 최근 스프링 부트는 컴포넌트 스캔을 기본으로 사용하고, 스프링 부트의 다양한 스프링 빈들도 조건이 맞으면 자동으로 등록하도록 설계했다.

설정 정보를 기반으로 애플리케이션을 구성하는 부분과 실제 동작하는 부분을 명확하게 구분하는 것이 이상적이다.
하지만 `@Component`만 넣어주면 끝나는 일을 `@Configuration`설정 정보에 가서 `@Bean`을 적고, 객체를 생성하고 주입할 대상을 일일이 적어주는 과정은 상당히 번거롭다.
또한 관리할 빈이 많아서 설정 정보가 커지면 설정 정보를 관리하는 것 자체가 부담된다.
**결정적으로 자동 빈 등록을 사용해도 OCP, DIP를 지킬 수 있다.**

### “수동 빈 등록은 언제 사용하면 좋을까?”

**“애플리케이션 로직”**

- **“업무 로직 빈”**
    - 웹을 지원하는 컨트롤러, 핵심 비즈니스 로직이 있는 서비스, 데이터 계층의 로직을 처리하는 리포지토리들이 모두 업무 로직이다.
    - 비즈니스 요구사항을 개발할 때 추가되거나 변경된다.
- **“기술 지원 빈”**
    - 기술적인 문제나 공통 관심사(AOP)를 처리할 때 주로 사용된다.
    - 데이터베이스 연결, 공통 로그 처리 처럼 업무 로직을 지원하기 위한 하부 기술이나 공통 기술

> 업무 로직은 숫자도 매우 많고, 한번 개발하면 어느 정도 유사한 패턴이 있다.
이런 경우 자동 기능을 적극 사용하는 것이 좋다.
보통 문제가 발생해도 어떤 곳에서 문제가 발생하는지 명확하게 파악하기 쉽다.
>

> 기술 지원 로직은 업무 로직과 비교해서 그 수가 매우 적고, 애플리케이션 전반에 광범위하게 영향을 미친다.
업무 로직은 문제가 발생헀을 때 어디가 문제인지 명확하게 잘 드러나지만, 기술 지원 로직은 잘 들어나지 않는다.
따라서 이런 기술 지원 로직들은 가급적 수동 빈 등록을 사용해서 명확하게 들어내는 것이 좋다.
>