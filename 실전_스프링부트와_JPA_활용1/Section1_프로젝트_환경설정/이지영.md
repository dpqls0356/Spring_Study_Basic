# ğŸ® í”„ë¡œì íŠ¸ í™˜ê²½ì„¤ì •

- ìŠ¤í”„ë§ ë¶€íŠ¸ ìŠ¤íƒ€í„° ([https://start.spring.io/](https://start.spring.io/))
    - Project â†’ Gradle - Groovy (ìš”ì¦˜ì€ gradleë¡œ ë„˜ì–´ê°€ëŠ” ì¶”ì„¸)
    - version â†’ ì•ˆì •í™”ëœ ë²„ì „ ì‚¬ìš©í• ê²ƒ.
    - ì‚¬ìš© ê¸°ëŠ¥ â†’ web, thymeleaf, jpa, h2, lombok, validation
    - groupId â†’ jpabook
    - artifactId â†’ jpashop

![Untitled](https://github.com/eejuuung/Spring_Study_Basic/assets/46306166/8ad0a756-a826-4a9d-bb6f-afc4b2b5edc6)

- ê·¸ì™¸
    - build gradle ìˆ˜ì •, Lombok ì²´í¬, ë“±â€¦

### ğŸ® ë¼ì´ë¸ŒëŸ¬ë¦¬ ì‚´í´ë³´ê¸°

- `./gradlew dependencies â€”configuration compileClasspath`  gradle ì˜ì¡´ê´€ê³„ í™•ì¸

![Untitled 1](https://github.com/eejuuung/Spring_Study_Basic/assets/46306166/f9187a6e-fa3f-4996-81fe-f1b39d865ee9)

### ğŸ® View í™˜ê²½ ì„¤ì •

- thymeleaf â†’ natural templates
    - í…œí”Œë¦¿ ì—”ì§„ì„ í™œìš©í•´ ë Œë”ë§í•´ì•¼í• ê²ƒ â†’ tamplates
        
        ![Untitled 2](https://github.com/eejuuung/Spring_Study_Basic/assets/46306166/ec68f181-9240-4c40-af6d-d354e9ebd49b)

    - ì •ì  ì»¨í…ì¸  â†’ static
        
        ![Untitled 3](https://github.com/eejuuung/Spring_Study_Basic/assets/46306166/272a9017-64b8-4f4b-bc0c-96dfb2ba649d)

- `implementation 'org.springframework.boot:spring-boot-devtools'`
    - ë¦¬ë¡œë”© ë˜ê²Œ ë§Œë“¤ì–´ì¤Œ!

### ğŸ® H2 DataBase

- ì›í•˜ëŠ” ìœ„ì¹˜ì— ë°ì´í„°ë² ì´ìŠ¤ ì‹¤í–‰í•˜ê¸°
- ì½˜ì†”ì°½ ì—´ì–´ì„œ h2.bat(windowê¸°ì¤€) ì‹¤í–‰
    - ì´ë•Œ testë¡œ ë¬´ì‹¬ì½” ë§Œë“¤ì–´ì„œ ì—´ë ¤ìˆë˜ ì„œë²„ê°€ ì•ˆì£½ì–´ì„œ ê³„ì† ì—ëŸ¬ê°€ ë‚¬ìŒ
        - ì´ëŸ´ë• taskkillí•´ì„œ ì„œë²„ ì£½ì´ê³  ë‹¤ì‹œ ì—´ê²ƒ.
        - ìƒì„±ëœ db íŒŒì¼ ìœ„ì¹˜ëŠ” C:\Users\USER
- ì´í›„  `jdbc:h2:tcp://localhost/~/jpashop` í•´ë‹¹ ì½”ë“œë¡œ ì ‘ì† ê°€ëŠ¥
- ì´ë•Œ ì½˜ì†”ì„ ë‹«ìœ¼ë©´ ë”ì´ìƒ ì„œë²„ ë™ì‘í•˜ì§€ ì•ŠìŒ. ctrl+c â†’ Y

### ğŸ® JPAì™€ DB ì„¤ì •, ë™ì‘í™•ì¸

- ì„¤ì •ì€ propertiesì™€ yml ë‘˜ì¤‘ í•˜ë‚˜ë¥¼ ì“°ë©´ë˜ëŠ”ë° ë‚˜ì¤‘ì— ì„¸íŒ…í• ê²Œ ë§ì•„ì§€ë©´ ymlì´ í¸í•˜ë¯€ë¡œ ê°•ì˜ì—ì„œëŠ” ymlìœ¼ë¡œ ì§„í–‰
- `spring.jpa.hibernate.ddl-auto: create`
    - appì‹¤í–‰ì‹œì ì— í…Œì´ë¸”ì„ dropí•˜ê³  ë‹¤ì‹œ ìƒì„±í•˜ëŠ”ê²ƒ.
- `show_sql: true`
    - system outìœ¼ë¡œ ì¶œë ¥í•˜ëŠ”ê²ƒ! ì‚¬ìš©í•˜ì§€ ë§ê²ƒ â†’ ë¡œê±°ë¥¼ í†µí•´ì„œ ì¶œë ¥í• ê²ƒ.
- ì´í›„ í…ŒìŠ¤íŠ¸ ì§„í–‰í• ë•Œ h2 Databaseë¥¼ ì¼œë†“ì€ ìƒíƒœë¡œ í…ŒìŠ¤íŠ¸í• ê²ƒ
    - ë‹¹ì—°í•œê±´ë° ì´ê±¸ ì•ˆí•´ì„œ 30ë¶„ë™ì•ˆ ì—ëŸ¬ì°¾ì•˜ìŒ ;_;
    
    ```java
    test ì½”ë“œ
    
    package com.jpabook.jpashop;
    
    import org.assertj.core.api.Assertions;
    import org.junit.Test;
    import org.junit.runner.RunWith;
    import org.springframework.beans.factory.annotation.Autowired;
    import org.springframework.boot.test.context.SpringBootTest;
    import org.springframework.test.annotation.Rollback;
    import org.springframework.test.context.junit4.SpringRunner;
    import org.springframework.transaction.annotation.Transactional;
    
    @RunWith(SpringRunner.class)
    @SpringBootTest
    public class MemberRepositoryTest {
        @Autowired MemberRepository memberRepository;
    
        @Test
        @Transactional
        @Rollback(false)
        public void testMember() {
            Member member = new Member();
            member.setUsername("memberA");
            Long savedId = memberRepository.save(member);
            Member findMember = memberRepository.find(savedId);
            Assertions.assertThat(findMember.getId()).isEqualTo(member.getId());
            Assertions.assertThat(findMember.getUsername()).isEqualTo(member.getUsername());
            Assertions.assertThat(findMember).isEqualTo(member); //JPA ì—”í‹°í‹° ë™ì¼ì„± ë³´ì¥
            System.out.println("findMember == member:" + (findMember == member));
        }
    }
    ```
    
- **ì¿¼ë¦¬ íŒŒë¼ë¯¸í„° ë¡œê·¸ë‚¨ê¸°ê¸°**
    - ìŠ¤í”„ë§ ë¶€íŠ¸ 3.x, hibernate6 â†’ org.hibernate.orm.jdbc.bind: trace
        
        ![Untitled 4](https://github.com/eejuuung/Spring_Study_Basic/assets/46306166/15e859da-ad3d-442c-9a64-5732ed8f2fea)

    - ì™¸ë¶€ ë¼ì´ë¸ŒëŸ¬ë¦¬
        - [P6Spy](https://github.com/p6spy/p6spy)
            - `implementation 'com.github.gavlyukovskiy:p6spy-spring-boot-starter:1.9.1'`
            
            ![Untitled 5](https://github.com/eejuuung/Spring_Study_Basic/assets/46306166/eb6b2b3b-fe3c-4de7-bb05-c495ccbe4224)
 
- ì¿¼ë¦¬ íŒŒë¼ë¯¸í„°ë¥¼ ë¡œê·¸ë¡œ ë‚¨ê¸°ëŠ” ê²ƒì€ ì¢‹ì§€ë§Œ ìš´ì˜ì—ì„œëŠ” í…ŒìŠ¤íŠ¸í•´ë³´ê³  ê°œë°œì •ë„ì—ì„œë§Œ ì‚¬ìš©í•˜ëŠ”ê²ƒì„ ì¶”ì²œí•¨.

---
